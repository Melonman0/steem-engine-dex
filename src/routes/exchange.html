<template>
    <header class="meta-header">
        <div class="container-fluid h100">
            <div class="h100 row align-items-center justify-content-between">
                <div class="col col-1 exchange-pair">${'STEEMP' & t}/${data.symbol}</div>
                <div class="col">
                    <div class="d-flex align-items-center justify-content-start">
                        <div class="meta-item">
                            <span class="meta-label">${'LAST PRICE' & t}: </span>
                            <span class="meta-value">${data.lastPrice} ${'STEEM'} / ${data.lastPrice | usdFormat:3}</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">${'24H' & t}: </span>
                            <span class="meta-value positive">+8.24%</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">${'HIGH' & t}: </span>
                            <span class="meta-value">${data.highestBid}</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">${'LOW' & t}: </span>
                            <span class="meta-value">${data.lowestAsk}</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">${'VOLUME' & t}: </span>
                            <span class="meta-value">${data.volume}</span>
                        </div>
                    </div>
                </div>
                <div class="col col-3 text-right">
                    <button type="button" class="outline-btn positive" click.delegate="deposit()">${'Deposit' & t}</button>
                    <button type="button" class="outline-btn negative" click.delegate="withdraw()">${'Withdraw' & t}</button>
                </div>
            </div>
        </div>
    </header>

    <div class="container-fluid h100-minus-header">
        
        <div class="row exchange-columns h100">
            <div class="col-3">
                <table class="buy-table">
                    <thead>
                        <tr>
                            <th width="135">${'Price' & t} (STEEMP)</th>
                            <th>${'QTY' & t} (ENG)</th>
                            <th>${'Total' & t} (STEEMP)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr repeat.for="order of sellBook | slice:10">
                            <td>${order.price}</td>
                            <td>${order.quantity}</td>
                            <td>${order.amountLocked | toFixed:6}</td>
                        </tr>
                    </tbody>
                </table>

                <div class="best-price" if.bind="bestSellPrice">
                    <div class="negative">${bestSellPrice.amountLocked} ${'STEEMP' & t}</div>
                    <div>${bestSellPrice.quantity} ${data.symbol}</div>
                </div>

                <table class="sell-table">
                    <thead class="sr-only">
                        <tr>
                            <th width="135">${'Price' & t} (STEEMP)</th>
                            <th>${'QTY' & t} (ENG)</th>
                            <th>${'Total' & t} (STEEMP)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr repeat.for="order of buyBook | slice:10">
                            <td>${order.price}</td>
                            <td>${order.quantity}</td>
                            <td>${order.amountLocked | toFixed:6}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="col-6 chart-col">
                <chart data.bind="chartData"></chart>
            </div>

            <div class="col-3">
                <div class="history">
                        <table class="buy-table">
                            <thead>
                                <tr>
                                    <th width="135">${'Price' & t} (STEEMP)</th>
                                    <th>${'QTY' & t} (ENG)</th>
                                    <th>${'Time' & t}</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr repeat.for="trade of tradeHistory | slice:10">
                                    <td>${trade.price}</td>
                                    <td>${trade.quantity}</td>
                                    <td>${trade.timestamp_string}</td>
                                </tr>
                            </tbody>
                        </table>
                </div>
            </div>
        </div>
    </div>
</template>
